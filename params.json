{"name":"Razorsharpjs","tagline":"Create Single Page Applications (SPAs) using C# controllers and Razor engine views","body":"# Description\r\nRazorSharpJS is a javascript library that allows you to use ASP MVC controllers and views to create Single Page applications or to easily convert an existing ASP MVC application into one.\r\n\r\n# How it works ?\r\nRazorSharpJS hooks into your page's DOM using javascript, handles anchors and form submits and converts them into ajax calls.\r\n\r\n# Tutorial\r\n### 1. Create a main entry point\r\nCreate a controller that has the action that will be the main entry point of your application. This action will be the **only one** that does not return a partial view.\r\n\r\n\r\n  **Controllers\\ApplicationStartController.cs**\r\n  ```C#\r\n  public class ApplicationStartController : Controller\r\n  {\r\n      public ActionResult Main()\r\n      {\r\n          return View();\r\n      }\r\n  }\r\n  ```\r\n  **App_Start\\RouteConfig.cs**\r\n  ```C#\r\n  public class RouteConfig\r\n    {\r\n        public static void RegisterRoutes(RouteCollection routes)\r\n        {\r\n            routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");\r\n\r\n            routes.MapRoute(\r\n                name: \"Default\",\r\n                url: \"{controller}/{action}/{id}\",\r\n                defaults: new { controller = \"ApplicationStart\", action = \"Main\", id = UrlParameter.Optional }\r\n            );\r\n        }\r\n    }\r\n  ```\r\n### 2. Create the main view \r\nCreate the main view that will serve as a layout for our other views and add the script for jquery (prerequisite) and razorsharp.js. Notice the `rs-body` directive. This directive instructs RazorSharpJS that the decorated element will be the placeholder for our views.\r\n\r\n\r\n  **Views\\ApplicationStart\\Main.cshtml**\r\n  ``` html\r\n  <head>\r\n   @Scripts.Render(\"~/bundles/jquery\") @*jquery is required*@\r\n   <script src=\"~/Scripts/razorsharp.js\"></script>\r\n  </head>\r\n  <body>\r\n  ...\r\n  <div class=\"container body-content\">\r\n        <div rs-body>\r\n            @Html.Partial(\"../Home/Index\")\r\n        </div>\r\n  </div>\r\n  ...\r\n  </body>\r\n ```\r\n### 3. Adding links to navigate to your website\r\nYou can now start adding links to your other controllers and views and use the full power and features of ASP MVC, all you have to do is prefix your urls with '/#' (or use the provided extensions) and razorsharp will automatically convert them to Ajax calls to your controllers. Just remember to always return parial views on your other controllers !\r\n \r\n \r\n##### The html way\r\n``` html\r\n<a href=\"/#/Home/Index\">Home</a>\r\n```\r\n##### The Razor way, using the provided extensions (recommended)\r\n``` c#\r\n@Html.RazorSharpActionLink(\"Home\", \"Index\", \"Home\")\r\n```\r\n\r\n####  3.1. Creating a menu\r\n\r\n **Views\\ApplicationStart\\Main.cshtml**\r\n ``` html\r\n ...\r\n <body>\r\n ...\r\n  <!-- LAYOUT MENU -->\r\n  <div class=\"navbar-collapse collapse\">\r\n      <ul class=\"nav navbar-nav\">\r\n          <li>@Html.RazorSharpActionLink(\"Home\", \"Index\", \"Home\")</li>@*Or <a href=\"/#/Home/Index\">Home</a>*@\r\n          <li>@Html.RazorSharpActionLink(\"About\", \"About\", \"Home\")@*Or <a href=\"/#/Home/About\">About</a>*@</li>\r\n          <li>@Html.RazorSharpActionLink(\"Contact\", \"Contact\", \"Home\")@*Or <a href=\"/#/Home/Contact\">Contact</a>*@</li>\r\n      </ul>\r\n      @Html.Partial(\"_LoginPartial\")\r\n  </div>\r\n   ...\r\n ```\r\n \r\n \r\n **Controllers\\HomeController.cs**\r\n ``` c#\r\n public class HomeController : Controller\r\n {\r\n     public ActionResult Index()\r\n     {\r\n         return PartialView();\r\n     }\r\n\r\n     public ActionResult About()\r\n     {\r\n         return PartialView();\r\n     }\r\n\r\n     public ActionResult Contact()\r\n     {\r\n         return PartialView();\r\n     }\r\n }\r\n ```\r\n### 4. Adding forms\r\nYou can add forms to your application and let razorsharp handle them by decorating them with the `rs-form` directive.\r\n\r\n##### The html way\r\n``` html\r\n<form action=\"/UsersAdmin/Create\" class=\"form-horizontal\" method=\"post\" role=\"form\" rs-form>\r\n...\r\n</form>\r\n```\r\n##### The Razor way, by using the provided extensions (recommended)\r\n``` c#\r\n@using (Html.BeginRazorSharpForm(\"Create\", \"UsersAdmin\", FormMethod.Post, new { @class = \"form-horizontal\", role = \"form\" }))\r\n{\r\n...\r\n}\r\n```\r\n### 5. Redirecting from a controller\r\nTo redirect to an other action from your controller you will have to use the provided extension methods. \r\n``` c#\r\nreturn RazorSharpRedirect.RedirectToAction(\"Login\");\r\n```\r\n\r\n### 6. Using Authorization\r\nTo use the ASP's authorization in combination with razorsharp you will have to use the provided authorization attribute (or use it as the base class if your have custom authorization attributes).\r\n\r\n\r\n##### Using a default login path and the attribute\r\n``` c#\r\n public partial class Startup\r\n {\r\n     public void ConfigureAuth(IAppBuilder app)\r\n     {\r\n         RazorSharpConfiguration.LoginUrl = \"/Account/Login\";\r\n         ...\r\n```\r\n\r\n``` c#\r\n[RazorSharpAuthorize]\r\npublic class UsersAdminController : Controller\r\n{\r\n...\r\n```\r\n\r\n##### Setting the login path at the attribute\r\n``` c#\r\n[RazorSharpAuthorize(\"/Account/Login\")]\r\npublic class UsersAdminController : Controller\r\n{\r\n...\r\n```\r\n\r\n### 7. Client-side events\r\nYou have access to some client side events, so that for example you can show a loading animation.\r\n\r\n``` js\r\n RazorSharp.Configuration.OnBeforeActionExecuted = function (url, data) {\r\n     $(\".spinner\").show();\r\n }\r\n\r\n RazorSharp.Configuration.OnAfterActionExecuted = function (ajaxResult) {\r\n     $(\".spinner\").hide();\r\n }\r\n ```\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}